# CodeAware ç”¨æˆ·äº¤äº’æ—¥å¿—ç³»ç»Ÿ

## æ¦‚è¿°

æœ¬æ–‡æ¡£æè¿°äº†CodeAwareä¸­ç²¾ç®€åŒ–çš„ç”¨æˆ·äº¤äº’æ—¥å¿—ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿä¸“æ³¨äº9ä¸ªæ ¸å¿ƒç”¨æˆ·è¡Œä¸ºç±»åˆ«ï¼Œä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„äº‹ä»¶å‘½åï¼Œæä¾›é«˜è´¨é‡çš„è¡Œä¸ºåˆ†ææ•°æ®ã€‚

## æ ¸å¿ƒæ—¥å¿—ç±»åˆ«

### 1. Sessionåˆ›å»º
- **user_create_new_session**: ç”¨æˆ·åˆ›å»ºæ–°çš„CodeAwareä¼šè¯
- **user_request_new_session**: ç”¨æˆ·è¯·æ±‚æ–°ä¼šè¯ï¼ˆé‡ç½®å½“å‰çŠ¶æ€ï¼‰

### 2. éœ€æ±‚çš„ç¼–è¾‘ä¸ç¡®è®¤
- **user_start_editing_requirement**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘é¡¹ç›®éœ€æ±‚
- **user_confirm_requirement**: ç”¨æˆ·ç¡®è®¤éœ€æ±‚å¹¶è§¦å‘æ­¥éª¤ç”Ÿæˆ
- **user_modify_requirement**: ç”¨æˆ·ä¿®æ”¹éœ€æ±‚å¹¶é‡æ–°ç”Ÿæˆæ­¥éª¤
- **user_no_change_requirement**: ç”¨æˆ·ç¡®è®¤éœ€æ±‚æ— å˜åŒ–

### 3. ç”Ÿæˆçš„å¼€å§‹ä¸å®Œæˆ
#### æ­¥éª¤ç”Ÿæˆ
- **user_order_steps_generation**: ç”¨æˆ·è§¦å‘æ­¥éª¤ç”Ÿæˆ
- **user_get_steps_generation_result**: ç”¨æˆ·è·å¾—æ­¥éª¤ç”Ÿæˆç»“æœ

#### çŸ¥è¯†å¡ç‰‡å†…å®¹ç”Ÿæˆ
- **user_order_knowledge_card_detail_generation**: ç”¨æˆ·è§¦å‘çŸ¥è¯†å¡ç‰‡è¯¦ç»†å†…å®¹ç”Ÿæˆ
- **user_get_knowledge_card_detail_generation_result**: ç”¨æˆ·è·å¾—çŸ¥è¯†å¡ç‰‡å†…å®¹ç”Ÿæˆç»“æœ

#### çŸ¥è¯†å¡ç‰‡æµ‹è¯•ç”Ÿæˆ
- **user_order_knowledge_card_tests_generation**: ç”¨æˆ·è§¦å‘çŸ¥è¯†å¡ç‰‡æµ‹è¯•ç”Ÿæˆ
- **user_get_knowledge_card_tests_generation_result**: ç”¨æˆ·è·å¾—çŸ¥è¯†å¡ç‰‡æµ‹è¯•ç”Ÿæˆç»“æœ

#### çŸ¥è¯†å¡ç‰‡ä¸»é¢˜ç”Ÿæˆ
- **user_order_knowledge_card_themes_generation**: ç”¨æˆ·è§¦å‘çŸ¥è¯†å¡ç‰‡ä¸»é¢˜ç”Ÿæˆ
- **user_get_knowledge_card_themes_generation_result**: ç”¨æˆ·è·å¾—çŸ¥è¯†å¡ç‰‡ä¸»é¢˜ç”Ÿæˆç»“æœ

#### åŸºäºæŸ¥è¯¢çš„ä¸»é¢˜ç”Ÿæˆ
- **user_order_knowledge_card_themes_from_query_generation**: ç”¨æˆ·åŸºäºæŸ¥è¯¢è§¦å‘ä¸»é¢˜ç”Ÿæˆ
- **user_get_knowledge_card_themes_from_query_generation_result**: ç”¨æˆ·è·å¾—åŸºäºæŸ¥è¯¢çš„ä¸»é¢˜ç”Ÿæˆç»“æœ

#### ä»£ç ç”Ÿæˆ
- **user_order_code_generation**: ç”¨æˆ·è§¦å‘ä»£ç ç”Ÿæˆ
- **user_get_code_generation_result**: ç”¨æˆ·è·å¾—ä»£ç ç”Ÿæˆç»“æœ

#### æ­¥éª¤é‡æ–°è¿è¡Œ
- **user_order_step_rerun**: ç”¨æˆ·è§¦å‘æ­¥éª¤é‡æ–°è¿è¡Œ
- **user_get_step_rerun_result**: ç”¨æˆ·è·å¾—æ­¥éª¤é‡æ–°è¿è¡Œç»“æœ

#### ä»£ç å˜æ›´å¤„ç†
- **user_order_code_changes_processing**: ç”¨æˆ·è§¦å‘ä»£ç å˜æ›´å¤„ç†
- **user_get_code_changes_processing_result**: ç”¨æˆ·è·å¾—ä»£ç å˜æ›´å¤„ç†ç»“æœ

#### SAQæäº¤å¤„ç†
- **user_order_saq_submission_processing**: ç”¨æˆ·è§¦å‘SAQæäº¤å¤„ç†
- **user_get_saq_submission_processing_result**: ç”¨æˆ·è·å¾—SAQæäº¤å¤„ç†ç»“æœ

#### å…¨å±€é—®é¢˜å¤„ç†
- **user_order_global_question_processing**: ç”¨æˆ·è§¦å‘å…¨å±€é—®é¢˜å¤„ç†
- **user_get_global_question_processing_result**: ç”¨æˆ·è·å¾—å…¨å±€é—®é¢˜å¤„ç†ç»“æœ

### 4. ç”¨æˆ·å¼€å§‹ç¼–è¾‘é—®é¢˜åˆ°æäº¤
- **user_start_edit_global_question**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘å…¨å±€é—®é¢˜
- **user_start_edit_reference_question**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘å¼•ç”¨é—®é¢˜ï¼ˆåŸºäºé€‰ä¸­æ–‡æœ¬ï¼‰
- **user_submit_reference_question**: ç”¨æˆ·æäº¤å¼•ç”¨é—®é¢˜
- **user_start_edit_code_question**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘é’ˆå¯¹ä»£ç çš„é—®é¢˜ï¼ˆåŸºäºé€‰ä¸­ä»£ç ï¼‰
- **user_submit_code_question**: ç”¨æˆ·æäº¤é’ˆå¯¹ä»£ç çš„é—®é¢˜

### 5. ç”¨æˆ·å¼€å§‹ç¼–è¾‘ç­”æ¡ˆåˆ°æäº¤
- **user_start_edit_saq_answer**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘SAQç­”æ¡ˆ
- **user_submit_saq_answer**: ç”¨æˆ·æäº¤SAQç­”æ¡ˆ

### 6. ç”¨æˆ·ç¼–è¾‘æ­¥éª¤éœ€æ±‚

- **user_start_edit_step_requirement**: ç”¨æˆ·å¼€å§‹ç¼–è¾‘å…·ä½“æ­¥éª¤éœ€æ±‚
- **user_submit_step_requirement**: ç”¨æˆ·æäº¤ç¼–è¾‘åçš„æ­¥éª¤éœ€æ±‚

### 7. ç”¨æˆ·ä»£ç ç¼–è¾‘æ¨¡å¼åˆ‡æ¢

- **user_enter_code_edit_mode**: ç”¨æˆ·è¿›å…¥ä»£ç ç¼–è¾‘æ¨¡å¼
- **user_exit_code_edit_mode**: ç”¨æˆ·é€€å‡ºä»£ç ç¼–è¾‘æ¨¡å¼
- **user_click_regenerate_code_button**: ç”¨æˆ·ç‚¹å‡»é‡æ–°ç”Ÿæˆä»£ç æŒ‰é’®

### 8. ç”¨æˆ·å±•å¼€æŸ¥çœ‹ä¸é«˜äº®äº¤äº’

- **user_view_and_highlight_step**: ç”¨æˆ·æŸ¥çœ‹å¹¶é«˜äº®æ­¥éª¤
- **user_finished_viewing_step**: ç”¨æˆ·å®ŒæˆæŸ¥çœ‹æ­¥éª¤
- **user_view_and_highlight_knowledge_card**: ç”¨æˆ·æŸ¥çœ‹å¹¶é«˜äº®çŸ¥è¯†å¡ç‰‡
- **user_finished_viewing_knowledge_card**: ç”¨æˆ·å®ŒæˆæŸ¥çœ‹çŸ¥è¯†å¡ç‰‡
- **user_view_and_highlight_code_chunk**: ç”¨æˆ·æŸ¥çœ‹å¹¶é«˜äº®ä»£ç å—
- **user_finished_viewing_code_chunk**: ç”¨æˆ·å®ŒæˆæŸ¥çœ‹ä»£ç å—
- **user_view_and_highlight_high_level_step**: ç”¨æˆ·æŸ¥çœ‹å¹¶é«˜äº®é«˜çº§æ­¥éª¤
- **user_finished_viewing_high_level_step**: ç”¨æˆ·å®ŒæˆæŸ¥çœ‹é«˜çº§æ­¥éª¤

### 9. ç”¨æˆ·åˆ é™¤çŸ¥è¯†å¡ç‰‡

- **user_disable_knowledge_card**: ç”¨æˆ·ç¦ç”¨/åˆ é™¤çŸ¥è¯†å¡ç‰‡

## æ—¥å¿—æ•°æ®æ ¼å¼

æ¯ä¸ªæ—¥å¿—æ¡ç›®åŒ…å«ï¼š

- **äº‹ä»¶ç±»å‹**: ç¬¦åˆç”¨æˆ·ä¸­å¿ƒå‘½åçº¦å®šçš„äº‹ä»¶åç§°
- **æ—¶é—´æˆ³**: ISOæ ¼å¼çš„äº‹ä»¶å‘ç”Ÿæ—¶é—´
- **ä¸Šä¸‹æ–‡æ•°æ®**: ç›¸å…³çš„ç”¨æˆ·çŠ¶æ€å’Œæ“ä½œå‚æ•°
- **ä¼šè¯ä¿¡æ¯**: å½“å‰ä¼šè¯æ ‡è¯†ç¬¦

## å®ç°çŠ¶æ€

### âœ… å·²å®Œæˆ

- Sessionåˆ›å»ºå’Œç®¡ç†æ—¥å¿—
- éœ€æ±‚ç¼–è¾‘ä¸ç¡®è®¤æµç¨‹æ—¥å¿—
- æ‰€æœ‰AIç”ŸæˆåŠŸèƒ½çš„å¼€å§‹/å®Œæˆæ—¥å¿—
- é—®é¢˜ç¼–è¾‘å¼€å§‹æ—¥å¿—ï¼ˆå…¨å±€é—®é¢˜ã€å¼•ç”¨é—®é¢˜ï¼‰
- SAQç­”æ¡ˆç¼–è¾‘å¼€å§‹å’Œæäº¤æ—¥å¿—
- æ­¥éª¤éœ€æ±‚ç¼–è¾‘å¼€å§‹å’Œæäº¤æ—¥å¿—
- ä»£ç ç¼–è¾‘æ¨¡å¼åˆ‡æ¢æ—¥å¿—
- æŸ¥çœ‹ä¸é«˜äº®äº¤äº’æ—¥å¿—ï¼ˆå·²ç»Ÿä¸€ä¸º user_view_and_highlight_* ç³»åˆ—äº‹ä»¶ï¼‰
- çŸ¥è¯†å¡ç‰‡åˆ é™¤/ç¦ç”¨æ—¥å¿—

### ğŸ¯ é‡è¦æ”¹è¿›

**äº‹ä»¶ç®€åŒ–ä¸å»é‡**: å·²ç§»é™¤ä¸ user_view_and_highlight_* ç³»åˆ—é‡åˆçš„æ—§äº‹ä»¶ï¼š

- âŒ `user_check_highlight_mappings` - å·²ç”± `user_view_and_highlight_*` æ›¿ä»£
- âŒ `user_check_knowledge_card_mappings` - å·²ç”± `user_view_and_highlight_knowledge_card` æ›¿ä»£  
- âŒ `user_check_step_mappings` - å·²ç”± `user_view_and_highlight_step` æ›¿ä»£
- âŒ `user_toggle_step_expansion` - å·²ç”± `user_view_and_highlight_step` å’Œ `user_finished_viewing_step` æ›¿ä»£
- âŒ `system_knowledge_card_content_generated` - ç³»ç»Ÿäº‹ä»¶ï¼Œä¸å±äºç”¨æˆ·äº¤äº’èŒƒç•´
- âŒ `system_step_generated` - ç³»ç»Ÿäº‹ä»¶ï¼Œä¸å±äºç”¨æˆ·äº¤äº’èŒƒç•´
- âŒ `user_clear_code_selection` - å†—ä½™çš„ä»£ç é€‰æ‹©äº‹ä»¶
- âŒ `user_check_clear_selection_mappings` - å†—ä½™çš„ä»£ç æ˜ å°„æ£€æŸ¥äº‹ä»¶
- âŒ `user_change_code_selection` - å†—ä½™çš„ä»£ç é€‰æ‹©å˜åŒ–äº‹ä»¶
- âŒ `user_check_code_selection_mappings` - å†—ä½™çš„ä»£ç æ˜ å°„æ£€æŸ¥äº‹ä»¶

**å†…å®¹ä¼˜å…ˆè®°å½•**: æ‰€æœ‰æ—¥å¿—äº‹ä»¶å·²ä»è®°å½•æŠ½è±¡IDä¿¡æ¯æ”¹ä¸ºè®°å½•å…·ä½“å†…å®¹ä¿¡æ¯ï¼š

- **æ­¥éª¤ç”Ÿæˆ**: è®°å½•æ­¥éª¤æ ‡é¢˜ã€æ‘˜è¦å’Œé«˜çº§æ­¥éª¤è¯¦æƒ…ï¼Œè€Œéä»…ä»…æ­¥éª¤ID
- **çŸ¥è¯†å¡ç‰‡ç”Ÿæˆ**: è®°å½•ä¸»é¢˜æ ‡é¢˜ã€å†…å®¹æ‘˜è¦å’Œæµ‹è¯•é¢˜è¯¦æƒ…ï¼Œè€Œéä»…ä»…å¡ç‰‡ID
- **ä»£ç ç”Ÿæˆ**: è®°å½•æ­¥éª¤ä¸ä»£ç çš„å…·ä½“å¯¹åº”å…³ç³»å’Œä»£ç é¢„è§ˆ
- **ç”¨æˆ·ç¼–è¾‘**: è®°å½•ç¼–è¾‘çš„å…·ä½“å†…å®¹æ‘˜è¦ï¼Œä¾¿äºåˆ†æç”¨æˆ·è¡Œä¸ºæ¨¡å¼
- **æŸ¥çœ‹äº¤äº’**: è®°å½•æŸ¥çœ‹çš„å…·ä½“å†…å®¹æ‘˜è¦ï¼Œäº†è§£ç”¨æˆ·å…³æ³¨ç‚¹

**é•¿åº¦æ§åˆ¶**: å¯¹é•¿æ–‡æœ¬è¿›è¡Œåˆç†æˆªå–ï¼ˆé€šå¸¸200-300å­—ç¬¦ï¼‰ï¼Œä¿æŒåˆ†æä»·å€¼çš„åŒæ—¶æ§åˆ¶æ—¥å¿—å¤§å°

## è®¾è®¡åŸåˆ™

1. **ç”¨æˆ·ä¸­å¿ƒ**: æ‰€æœ‰äº‹ä»¶å‘½åä»¥ç”¨æˆ·è¡Œä¸ºä¸ºå‡ºå‘ç‚¹
2. **é…å¯¹å®Œæ•´**: æ¯ä¸ª"å¼€å§‹"äº‹ä»¶éƒ½æœ‰å¯¹åº”çš„"å®Œæˆ"æˆ–"ç»“æœ"äº‹ä»¶
3. **ä¸Šä¸‹æ–‡ä¸°å¯Œ**: è®°å½•è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ç”¨äºåç»­åˆ†æ
4. **ç²¾ç®€èšç„¦**: åªè®°å½•å¯¹ç”¨æˆ·è¡Œä¸ºåˆ†ææœ‰ä»·å€¼çš„æ ¸å¿ƒäº‹ä»¶
5. **å¯æ‰©å±•æ€§**: äº‹ä»¶ç»“æ„æ”¯æŒæœªæ¥åŠŸèƒ½æ‰©å±•
6. **é¦–æ¬¡è§¦å‘**: `user_start_edit_*` äº‹ä»¶åªåœ¨ç”¨æˆ·é¦–æ¬¡è·å¾—ç„¦ç‚¹æ—¶è®°å½•ï¼Œé¿å…é‡å¤è®°å½•

## æŠ€æœ¯å®ç°è¯´æ˜

### é˜²é‡å¤è®°å½•æœºåˆ¶

ä¸ºäº†ç¡®ä¿ `user_start_edit_*` äº‹ä»¶åªåœ¨ç”¨æˆ·é¦–æ¬¡å¼€å§‹ç¼–è¾‘æ—¶è®°å½•ï¼Œå„ç»„ä»¶é‡‡ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š

- **Webç»„ä»¶ï¼ˆReactï¼‰**: ä½¿ç”¨ `onFocus` äº‹ä»¶é…åˆ `hasStartedEditingRef` æ ‡å¿—ä½
- **VS Codeæ‰©å±•**: åœ¨è¾“å…¥éªŒè¯å™¨ä¸­æ£€æµ‹é¦–æ¬¡è¾“å…¥é…åˆæ ‡å¿—ä½
- **æŒ‰é’®è§¦å‘çš„ç¼–è¾‘**: ç›´æ¥åœ¨ç‚¹å‡»äº‹ä»¶ä¸­è®°å½•ï¼ˆå¦‚æ­¥éª¤ç¼–è¾‘ã€éœ€æ±‚ç¼–è¾‘ï¼‰

è¿™ç¡®ä¿äº†å³ä½¿ç”¨æˆ·é¢‘ç¹æ“ä½œï¼ˆå¦‚å¿«é€Ÿè¾“å…¥ã€å¤šæ¬¡focusç­‰ï¼‰ï¼Œæ¯ä¸ªç¼–è¾‘ä¼šè¯ä¹Ÿåªè®°å½•ä¸€æ¬¡å¼€å§‹äº‹ä»¶ã€‚

## åˆ†æä»·å€¼

è¯¥æ—¥å¿—ç³»ç»Ÿæ”¯æŒä»¥ä¸‹åˆ†æï¼š

- ç”¨æˆ·å­¦ä¹ è·¯å¾„å’Œæ¨¡å¼è¯†åˆ«
- AIç”ŸæˆåŠŸèƒ½ä½¿ç”¨æ•ˆç‡åˆ†æ
- ç”¨æˆ·ç¼–è¾‘è¡Œä¸ºå’ŒæŠ•å…¥åº¦è¯„ä¼°
- äº¤äº’éšœç¢ç‚¹è¯†åˆ«å’Œä¼˜åŒ–
- åŠŸèƒ½ä½¿ç”¨é¢‘ç‡å’ŒæˆåŠŸç‡ç»Ÿè®¡
